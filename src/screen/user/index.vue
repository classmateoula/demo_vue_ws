<template>
  <div class="box">
    <div class="box-header bg-w">
      <div class="box-header-fixed ws-tr">
        <svg t="1563541816909" class="box-header-icon pad10 wx-fr" viewBox="0 0 1311 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1800" width=".2rem" height=".2rem"><path d="M1107.558 150.733h-111.41l-39.732-95.437S934.707 6.144 890.88 6.144H598.426c-41.37 0-60.212 47.923-60.212 47.923l-40.14 96.666H370.688v-40.96H240.435c-111.411 0-201.523 90.112-201.523 201.113V808.96c0 111.411 90.112 201.523 201.523 201.523h867.123c111.002 0 201.114-90.112 201.114-201.523V351.846c0-111.001-90.112-201.113-201.114-201.113zM742.195 902.349c-180.633 0-326.86-146.227-326.86-326.861 0-180.224 146.227-326.86 326.86-326.86 180.634 0 326.861 146.636 326.861 326.86 0 180.634-146.227 326.86-326.86 326.86z m212.583-323.175c0 117.146-95.437 212.583-212.583 212.583-117.145 0-212.582-95.437-212.582-212.583 0-117.555 95.437-212.992 212.582-212.992 117.146 0 212.583 95.437 212.583 212.992" fill="#2f2f36" p-id="1801"></path></svg>
      </div>
    </div>
    <el-row class="pad-n20 bg-w" type="flex">
      <el-col :span="6">
        <luo-upload class="img3 ws-oh ws-mc" @change="changeUserImg">
          <el-image :src="userInfo.avatar" class="img-block">
            <img src="../../assets/images/img3.jpg" alt="qwq" class="img-block" slot="error">
          </el-image>
        </luo-upload>
      </el-col>
      <el-col :span="20" class="pad5">
        <h2 class="font-w font-md">{{ userInfo.uname }}</h2>
        <div class="bg-right color-gray mg-t20 font-mini">
          <span class="ws-fl">机密号：{{ userInfo.tel }}</span>
          <svg t="1563543466115" class="ws-fr box-body-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3869" width=".1rem" height=".1rem"><path d="M62.996776 484.061694l423.162696 0L486.159472 60.900022 62.996776 60.900022 62.996776 484.061694zM168.788218 166.69044l211.580836 0 0 211.580836L168.788218 378.271276 168.788218 166.69044zM539.055193 60.900022l0 423.162696 423.162696 0L962.217888 60.900022 539.055193 60.900022zM856.426447 378.271276 644.845611 378.271276 644.845611 166.69044l211.580836 0L856.426447 378.271276zM221.682915 325.376579l105.790418 0L327.473333 219.585137 221.682915 219.585137 221.682915 325.376579zM62.996776 960.120111l423.162696 0L486.159472 536.957415 62.996776 536.957415 62.996776 960.120111zM168.788218 642.747833l211.580836 0 0 211.580836L168.788218 854.328669 168.788218 642.747833zM803.531749 219.585137 697.740308 219.585137l0 105.790418 105.790418 0L803.530726 219.585137zM539.055193 960.120111l105.790418 0L644.845611 854.329692 539.055193 854.329692 539.055193 960.120111zM644.845611 642.747833l0 211.580836 105.790418 0L750.636029 642.747833 644.845611 642.747833zM856.426447 854.329692 750.636029 854.329692 750.636029 960.120111l211.580836 0L962.216865 748.538251 856.426447 748.538251 856.426447 854.329692zM856.426447 642.747833l105.790418 0L962.216865 536.957415 856.426447 536.957415 856.426447 642.747833zM539.055193 536.957415l0 105.790418 105.790418 0L644.845611 536.957415 539.055193 536.957415zM221.682915 801.433972l105.790418 0L327.473333 695.643554 221.682915 695.643554 221.682915 801.433972z" fill="#6d6d6d" p-id="3870"></path></svg>
        </div>
      </el-col>
    </el-row>
    <div class="pad-n5"></div>
    <luo-list title="表情" right bottom>
      <svg t="1563544142509" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7736" width=".2rem" height=".2rem"><path d="M512 22.26087C240.417391 22.26087 22.26087 240.417391 22.26087 512s218.156522 489.73913 489.73913 489.73913 489.73913-218.156522 489.73913-489.73913-218.156522-489.73913-489.73913-489.73913z m0 930.504347c-244.869565 0-440.765217-195.895652-440.765217-440.765217S267.130435 71.234783 512 71.234783s440.765217 195.895652 440.765217 440.765217-195.895652 440.765217-440.765217 440.765217z" fill="#7A80FA" p-id="7737"></path><path d="M512 810.295652c155.826087 0 280.486957-115.756522 298.295652-267.130435H213.704348c17.808696 151.373913 142.469565 267.130435 298.295652 267.130435z" fill="#7A80FA" p-id="7738"></path><path d="M627.756522 351.721739a75.686957 57.878261 90 1 0 115.756521 0 75.686957 57.878261 90 1 0-115.756521 0Z" fill="#7A80FA" p-id="7739"></path><path d="M280.486957 351.721739a75.686957 57.878261 90 1 0 115.756521 0 75.686957 57.878261 90 1 0-115.756521 0Z" fill="#7A80FA" p-id="7740"></path></svg>
    </luo-list>
    <luo-list title="主题" right @change="$router.push('/theme')">
      <svg t="1563544591607" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10815" width=".2rem" height=".2rem"><path d="M417.344 131.008L201.344 505.152v-4.224L1.728 442.752l4.096-6.912 195.52-331.968 2.048 1.984h193.6l20.352 25.152z" fill="#F4E67F" p-id="10816"></path><path d="M642.112 105.856l-440.768 763.52V500.928l-19.52-5.632 220.8-382.528 109.312 135.488 115.072-142.4h15.104z" fill="#74EB74" p-id="10817"></path><path d="M201.344 795.776l330.176-571.648 95.488-118.272h193.472L365.184 920.128h-163.84v-124.352z" fill="#7EFFF8" p-id="10818"></path><path d="M569.152 920.128h-235.52l470.144-814.272h16.704l112.128 184.768-363.456 629.504z" fill="#92D3FF" p-id="10819"></path><path d="M803.136 920.128H567.488l364.288-630.976 90.496 153.6-199.616 58.176v385.344l-19.52 33.856z" fill="#ECA9FC" p-id="10820"></path></svg>
    </luo-list>
    <luo-list title="设置" right class="mg-t10" @change="$router.push('/setting')">
      <svg t="1563544092515" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6979" width=".2rem" height=".2rem"><path d="M881 512c0-52.4 32.9-96.8 79-114.5-11-43.2-28-83.9-50.2-121.3C864.6 296.3 810 288.1 773 251c-37-37-45.2-91.7-25.1-136.8C710.4 92 669.7 75 626.5 64c-17.8 46.1-62.2 79-114.5 79-52.4 0-96.8-32.9-114.5-79-43.2 11-83.9 28-121.3 50.2 20.1 45.2 11.9 99.8-25.1 136.8-37 37-91.7 45.2-136.8 25.2C92 313.6 75 354.3 64 397.5c46.1 17.8 79 62.2 79 114.5 0 52.4-32.9 96.8-79 114.5 11 43.2 28 83.9 50.2 121.3C159.4 727.7 214 735.9 251 773c37 37 45.2 91.7 25.1 136.8C313.6 932 354.3 949 397.5 960c17.8-46.1 62.2-79 114.5-79 52.4 0 96.8 32.9 114.5 79 43.2-11 83.9-28 121.3-50.2-20.1-45.2-11.9-99.8 25.1-136.8 37-37 91.7-45.2 136.8-25.2C932 710.4 949 669.7 960 626.5c-46.1-17.7-79-62.1-79-114.5zM512 635c-67.9 0-123-55.1-123-123s55.1-123 123-123 123 55.1 123 123-55.1 123-123 123z" p-id="6980"></path></svg>
    </luo-list>
  </div>
</template>

<script>
import { update_user_img } from '@/api/user'

export default {
  name: 'user',
  data () {
    return {
      msg: '用户详情'
    }
  },
  computed: {
    userInfo () {
      return this.$store.state.userInfo
    }
  },
  methods: {
    changeUserImg (avatar) {
      update_user_img({
        avatar
      }).then(res => {
        if (res.code === 200) {
          this.$store.dispatch('setUserInfo', {
            avatar
          })
          this.$message({
            type: 'success',
            message: '成功修改头像'
          })
        }
      })
    },
    // 刷新
    load () {
      console.log('刷新')
    }
  }
}
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped lang='scss'>
.box {
  // margin: 0;
  height: 100vh;
  overflow: auto;
  &-header {
    padding: .3rem 0;
    &-fixed {
      position: absolute;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
    }
    &-icon {
      &:active {
        background: rgba(43, 40, 40, .5);
      }
    }
  }
  &-body {
    &-icon {
      margin-top: .05rem;
      margin-right: .2rem;
    }
  }
}
.img3 {
  width: .6rem;
  height: .6rem;
}
</style>
